<svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" id="svg2" width="1052.362" height="744.094" version="1.1"><defs id="defs4"><marker id="DotS" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4365" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="M -2.5,-1.0 C -2.5,1.7600000 -4.7400000,4.0 -7.5,4.0 C -10.260000,4.0 -12.5,1.7600000 -12.5,-1.0 C -12.5,-3.7600000 -10.260000,-6.0 -7.5,-6.0 C -4.7400000,-6.0 -2.5,-3.7600000 -2.5,-1.0 z" transform="scale(0.2) translate(7.4, 1)"/></marker><marker id="Arrow1Send" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4312" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker><marker id="DotS-7" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4365-9" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z" transform="matrix(0.2,0,0,0.2,1.48,0.2)"/></marker><marker id="Arrow1Send-3" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4312-1" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker><marker id="DotS-4" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4365-7" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z" transform="matrix(0.2,0,0,0.2,1.48,0.2)"/></marker><marker id="Arrow1Send-7" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4312-0" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker><marker id="DotS-1" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4365-92" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z" transform="matrix(0.2,0,0,0.2,1.48,0.2)"/></marker><marker id="Arrow1Send-76" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4312-3" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker><marker id="DotS-77" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4365-72" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z" transform="matrix(0.2,0,0,0.2,1.48,0.2)"/></marker><marker id="Arrow1Send-39" orient="auto" overflow="visible" refX="0" refY="0"><path id="path4312-9" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker><marker id="marker6157" orient="auto" overflow="visible" refX="0" refY="0"><path id="path6159" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-end="none" marker-start="none" d="m -2.5,-1 c 0,2.76 -2.24,5 -5,5 -2.76,0 -5,-2.24 -5,-5 0,-2.76 2.24,-5 5,-5 2.76,0 5,2.24 5,5 z" transform="matrix(0.2,0,0,0.2,1.48,0.2)"/></marker><marker id="marker6161" orient="auto" overflow="visible" refX="0" refY="0"><path id="path6163" fill-rule="evenodd" stroke="#000" stroke-width="1pt" marker-start="none" d="M 0,0 5,-5 -12.5,0 5,5 0,0 z" transform="matrix(-0.2,0,0,-0.2,-1.2,0)"/></marker></defs><metadata id="metadata7"/><g id="layer1" transform="translate(0,-308.2677)"><rect id="rect6509-8" width="421.731" height="457.549" x="567.314" y="549.752" fill="#ededed" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text6511-9" x="775.824" y="951.84" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="24" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan6513-6" x="775.824" y="951.84">Debugger Support</tspan></text><rect id="rect6509-9" width="165.226" height="457.549" x="19.642" y="549.752" fill="#ededed" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect6509" width="365.115" height="457.549" x="195.267" y="549.752" fill="#ededed" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text2997" x="41.379" y="377.233" fill="#000" fill-opacity="1" stroke="none" font-family="Monospace" font-size="10" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%;-inkscape-font-specification:Monospace"><tspan style="-inkscape-font-specification:Monospace" id="tspan2999" x="41.379" y="377.233" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal">// non-strict eval in global scope</tspan><tspan id="tspan5625" x="41.379" y="399.733" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace">let (w=1)</tspan><tspan id="tspan3001" x="41.379" y="422.233" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> let (x=2)</tspan><tspan id="tspan3007" x="41.379" y="444.733" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> let (y=3)</tspan><tspan id="tspan3011" x="41.379" y="467.233" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> let (z=4) {</tspan><tspan id="tspan3015" x="41.379" y="489.733" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> g=function() { return x+z; }</tspan><tspan id="tspan4869" x="41.379" y="512.233" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> debugger;</tspan><tspan id="tspan4871" x="41.379" y="534.733" font-family="Monospace" font-size="18" font-stretch="normal" font-style="normal" font-variant="normal" font-weight="normal" style="-inkscape-font-specification:Monospace"> }</tspan></text><text id="text3881" x="41.518" y="790.592" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan3885" x="41.518" y="790.592">environment</tspan></text><rect id="rect3017-2" width="143.737" height="22.504" x="404.333" y="638.182" fill="#91ff73" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-7" x="476.658" y="655.996" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-7" x="476.658" y="655.996">z: 4</tspan></text><rect id="rect3017-7-9" width="143.737" height="22.504" x="404.333" y="686.597" fill="#91ff73" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-6-9" x="476.658" y="704.41" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-6-0" x="476.658" y="704.41">x: 2</tspan></text><rect id="rect3017" width="143.737" height="22.504" x="32.668" y="638.182" fill="#ffa800" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795" x="104.993" y="655.996" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797" x="104.993" y="655.996">z: 4</tspan></text><rect id="rect3017-6" width="143.737" height="22.504" x="32.668" y="662.39" fill="#ffa700" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-0" x="104.993" y="680.203" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-0" x="104.993" y="680.203">y: 3</tspan></text><rect id="rect3017-7" width="143.737" height="22.504" x="32.668" y="686.597" fill="#ffa700" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-6" x="104.993" y="704.41" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-6" x="104.993" y="704.41">x: 2</tspan></text><rect id="rect3017-1" width="143.737" height="22.504" x="32.668" y="710.805" fill="#ffa700" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-5" x="104.993" y="728.618" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-03" x="104.993" y="728.618">w: 1</tspan></text><rect id="rect3017-1-5" width="143.737" height="22.504" x="32.668" y="734.942" fill="#ffa700" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text4169" x="76.846" y="751.16" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="italic" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%;-inkscape-font-specification:Sans Italic"><tspan id="tspan4171" x="76.846" y="751.16">global</tspan></text><rect id="rect3017-1-5-6" width="143.737" height="22.504" x="404.333" y="734.942" fill="#91ff73" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text4169-1" x="448.511" y="751.16" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="italic" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%;-inkscape-font-specification:Sans Italic"><tspan id="tspan4171-8" x="448.511" y="751.16">global</tspan></text><text id="text3881-8" x="394.297" y="791.748" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan6231" x="394.297" y="791.748">scope chain;</tspan><tspan id="tspan6237" x="394.297" y="814.248">holds blocks</tspan><tspan id="tspan6243" x="394.297" y="836.748">containing vars</tspan><tspan id="tspan3123" x="394.297" y="859.248">that could be</tspan><tspan id="tspan6287" x="394.297" y="881.748">aliased</tspan></text><path id="path4292" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="3" marker-end="url(#Arrow1Send)" d="m 70.416746,581.22334 c 0,37.08724 36.660284,2.90377 36.660284,52.63107"/><text id="text4738" x="35.571" y="576.142" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan4740" x="35.571" y="576.142">inner end</tspan></text><rect id="rect3017-4" width="143.737" height="22.504" x="779.647" y="638.182" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect3017-6-2" width="143.737" height="22.504" x="779.647" y="662.39" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect3017-7-8" width="143.737" height="22.504" x="779.647" y="686.597" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect3017-1-3" width="143.737" height="22.504" x="779.647" y="710.805" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3881-8-9" x="786.614" y="792.29" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan4290-9" x="786.614" y="792.29">DebugScopeObject</tspan><tspan id="tspan6301" x="786.614" y="814.79">chain: all proxies</tspan></text><text id="text3795-0-1" x="279.946" y="680.203" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-0-7" x="279.946" y="680.203">y: 3</tspan></text><rect id="rect3017-6-27" width="143.737" height="22.504" x="207.62" y="662.39" fill="#91ff73" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect3017-1-9" width="143.737" height="22.504" x="207.62" y="710.805" fill="#91ff73" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><text id="text3795-5-5" x="279.946" y="728.618" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-03-2" x="279.946" y="728.618">w: 1</tspan></text><text id="text3881-6" x="200.852" y="791.748" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan6249" x="200.852" y="791.748">stack frame;</tspan><tspan id="tspan6277" x="200.852" y="814.248">holds only vars we</tspan><tspan id="tspan6281" x="200.852" y="836.748">statically know</tspan><tspan id="tspan6255" x="200.852" y="859.248">are never aliased</tspan></text><text id="text5627" x="796.054" y="753.702" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="10" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan5629" x="796.054" y="753.702">scope chain</tspan></text><path id="path5631" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 786.93049,649.43459 -235.95676,0"/><path id="path5631-5" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 786.93049,697.84939 -235.95676,0"/><rect id="rect3017-6-27-5" width="143.737" height="22.504" x="590.175" y="662.39" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><rect id="rect3017-1-9-9" width="143.737" height="22.504" x="590.175" y="710.805" fill="#389cea" fill-opacity="1" stroke="none" rx="6.125" ry="6.125"/><path id="path5631-4" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 598.4055,673.64199 -243.75932,0"/><path id="path5631-53" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 598.4055,722.05679 -243.75932,0"/><text id="text3881-8-9-7" x="574.283" y="792.29" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" word-spacing="0" xml:space="preserve" style="line-height:125%"><tspan id="tspan5623-9" x="574.283" y="792.29">Fake ScopeObjects,</tspan><tspan id="tspan6141" x="574.283" y="814.79">created for debugger</tspan><tspan id="tspan6291" x="574.283" y="837.29">(scope chain is junk)</tspan></text><path id="path5631-4-1" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 786.93049,673.64199 -50.54863,0"/><path id="path5631-53-9" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-start="url(#DotS)" d="m 786.93049,722.05679 -50.54863,0"/><text id="text3795-0-8" x="279.492" y="680.203" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="18" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan3797-0-6" x="279.492" y="680.203">y: 3</tspan></text><path id="path5071" fill="none" stroke="#000" stroke-dasharray="none" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="4" stroke-opacity="1" stroke-width="2" marker-end="url(#Arrow1Send)" marker-mid="url(#marker6157)" marker-start="url(#DotS)" d="m 805.33602,649.44364 c -0.026,12.45467 -0.0519,11.62194 -0.0779,24.07661 l -0.0389,25.03685 -0.0389,23.30371 c 0,77.40608 -230.27989,10.64499 -254.9325,24.87818"/><text id="text6511" x="377.678" y="951.84" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="24" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan6513" x="377.678" y="951.84">Implementation</tspan></text><text id="text6511-2" x="101.833" y="951.102" fill="#000" fill-opacity="1" stroke="none" font-family="Sans" font-size="24" font-style="normal" font-weight="normal" letter-spacing="0" text-anchor="middle" word-spacing="0" xml:space="preserve" style="text-align:center;line-height:125%"><tspan id="tspan6513-0" x="101.833" y="951.102">Per spec</tspan></text></g></svg>